#### 1.网络框架

网络框架基于alamofire二次封装

详见 common/http包下的内容

我所做的只是对请求的参数封装

HttpClient.swift:该对象用于做url管理和请求参数封装

##### 初始化

`let httpClient = HttpClient(baseUrl:DataManager.shareInstance.baseUrlCms,headers:["X-Requested-With":"XMLHttpRequest"])`

##### 调用

`httpClient.request(url: "user/{userId}", method: .post, pathParams: ["userId":userId ], params: ["password":password])`

该方法会返回Alamofire的 DataRequest对象

再使用ResponseJsonHandle.swift中extends的两个方法来解析返回值

success回调直接返回给你整个模型 

 `public func responseModel<T:HandyJSON>( success:@escaping ((T)->()),failure:@escaping ((Int?,Error)->()) )`

与上面方法的区别是,这个方法每次请求成功会存缓存,readCache是否读取,还提供了本次success回调是否为缓存的判断

  `public func responseModelAndCache<T:HandyJSON>( readCache:Bool,success:@escaping ((T,Bool)->()),failure:@escaping ((Int?,Error)->()) )`

##### 提供一个完整的例子

```swift
httpClient.request(url: "user/{userId}",
                    method: .post,
                    pathParams: ["userId":userId ],
                    params: ["password":password])
.responseModelAndCache(readCache:true ,success: { (result:Result<User>,isCache:Bool) in
  	}, failure: {statusCode,error in 
 })
```
